import{b as G,bt as X,a as Z,az as x,j as q,bv as ee,k as M,bw as oe,o as I,c as P,g as O,r as h,n as b,e,t as le,z as R,s as C,q as V,v as se,ax as ae,f as j,h as te,b6 as ne,_ as H,bx as ie,by as re,d as ue,bc as J,a3 as de,aI as ce,aj as U,C as k,bz as fe,bA as me,al as pe,bB as ye,a5 as K,ah as ve,ac as be,aF as ge,bC as _,aO as Ce,ai as he,bD as ke,u as Ee,x as Ie,bE as De,av as we,a$ as Be,bF as Te,bG as $e,bl as Ae,an as Fe,bH as Se,w as Oe}from"./index.3c736d21.js";const Y=Symbol("dialogInjectionKey"),Q=G({center:{type:Boolean,default:!1},closeIcon:{type:X,default:""},customClass:{type:String,default:""},draggable:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},showClose:{type:Boolean,default:!0},title:{type:String,default:""}}),Re={close:()=>!0},Me=["aria-label"],ze=["id"],Ne={name:"ElDialogContent"},Le=Z({...Ne,props:Q,emits:Re,setup(o){const r=o,{t:E}=x(),{Close:i}=ie,{dialogRef:u,headerRef:f,bodyId:D,ns:a,style:t}=q(Y),{focusTrapRef:m}=q(ee),d=re(m,u),p=M(()=>r.draggable);return oe(u,f,p),(s,n)=>(I(),P("div",{ref:e(d),class:b([e(a).b(),e(a).is("fullscreen",s.fullscreen),e(a).is("draggable",e(p)),{[e(a).m("center")]:s.center},s.customClass]),style:te(e(t)),tabindex:"-1",onClick:n[1]||(n[1]=ne(()=>{},["stop"]))},[O("header",{ref_key:"headerRef",ref:f,class:b(e(a).e("header"))},[h(s.$slots,"header",{},()=>[O("span",{role:"heading",class:b(e(a).e("title"))},le(s.title),3)]),s.showClose?(I(),P("button",{key:0,"aria-label":e(E)("el.dialog.close"),class:b(e(a).e("headerbtn")),type:"button",onClick:n[0]||(n[0]=T=>s.$emit("close"))},[R(e(ae),{class:b(e(a).e("close"))},{default:C(()=>[(I(),V(se(s.closeIcon||e(i))))]),_:1},8,["class"])],10,Me)):j("v-if",!0)],2),O("div",{id:e(D),class:b(e(a).e("body"))},[h(s.$slots,"default")],10,ze),s.$slots.footer?(I(),P("footer",{key:0,class:b(e(a).e("footer"))},[h(s.$slots,"footer")],2)):j("v-if",!0)],6))}});var Pe=H(Le,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const Ve=G({...Q,appendToBody:{type:Boolean,default:!1},beforeClose:{type:ue(Function)},destroyOnClose:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:{type:Boolean,default:!1},modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1}}),je={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[J]:o=>de(o),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},qe=(o,r)=>{const i=ge().emit,{nextZIndex:u}=ce();let f="";const D=U(),a=U(),t=k(!1),m=k(!1),d=k(!1),p=k(o.zIndex||u());let s,n;const T=fe("namespace",me),z=M(()=>{const c={},S=`--${T.value}-dialog`;return o.fullscreen||(o.top&&(c[`${S}-margin-top`]=o.top),o.width&&(c[`${S}-width`]=pe(o.width))),c});function N(){i("opened")}function $(){i("closed"),i(J,!1),o.destroyOnClose&&(d.value=!1)}function L(){i("close")}function A(){n==null||n(),s==null||s(),o.openDelay&&o.openDelay>0?{stop:s}=_(()=>F(),o.openDelay):F()}function w(){s==null||s(),n==null||n(),o.closeDelay&&o.closeDelay>0?{stop:n}=_(()=>l(),o.closeDelay):l()}function B(){function c(S){S||(m.value=!0,t.value=!1)}o.beforeClose?o.beforeClose(c):w()}function y(){o.closeOnClickModal&&B()}function F(){!Ce||(t.value=!0)}function l(){t.value=!1}function v(){i("openAutoFocus")}function g(){i("closeAutoFocus")}o.lockScroll&&ye(t);function W(){o.closeOnPressEscape&&B()}return K(()=>o.modelValue,c=>{c?(m.value=!1,A(),d.value=!0,i("open"),p.value=o.zIndex?p.value++:u(),ve(()=>{r.value&&(r.value.scrollTop=0)})):t.value&&w()}),K(()=>o.fullscreen,c=>{!r.value||(c?(f=r.value.style.transform,r.value.style.transform=""):r.value.style.transform=f)}),be(()=>{o.modelValue&&(t.value=!0,d.value=!0,A())}),{afterEnter:N,afterLeave:$,beforeLeave:L,handleClose:B,onModalClick:y,close:w,doClose:l,onOpenAutoFocus:v,onCloseAutoFocus:g,onCloseRequested:W,titleId:D,bodyId:a,closed:m,style:z,rendered:d,visible:t,zIndex:p}},Ue=["aria-label","aria-labelledby","aria-describedby"],Ke={name:"ElDialog"},_e=Z({...Ke,props:Ve,emits:je,setup(o,{expose:r}){const E=o,i=he();ke({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},M(()=>!!i.title));const u=Ee("dialog"),f=k(),D=k(),a=k(),{visible:t,titleId:m,bodyId:d,style:p,rendered:s,zIndex:n,afterEnter:T,afterLeave:z,beforeLeave:N,handleClose:$,onModalClick:L,onOpenAutoFocus:A,onCloseAutoFocus:w,onCloseRequested:B}=qe(E,f);Ie(Y,{dialogRef:f,headerRef:D,bodyId:d,ns:u,rendered:s,style:p});const y=De(L),F=M(()=>E.draggable&&!E.fullscreen);return r({visible:t,dialogContentRef:a}),(l,v)=>(I(),V(Se,{to:"body",disabled:!l.appendToBody},[R(Fe,{name:"dialog-fade",onAfterEnter:e(T),onAfterLeave:e(z),onBeforeLeave:e(N),persisted:""},{default:C(()=>[we(R(e(Te),{"custom-mask-event":"",mask:l.modal,"overlay-class":l.modalClass,"z-index":e(n)},{default:C(()=>[O("div",{role:"dialog","aria-modal":"true","aria-label":l.title||void 0,"aria-labelledby":l.title?void 0:e(m),"aria-describedby":e(d),class:b(`${e(u).namespace.value}-overlay-dialog`),onClick:v[0]||(v[0]=(...g)=>e(y).onClick&&e(y).onClick(...g)),onMousedown:v[1]||(v[1]=(...g)=>e(y).onMousedown&&e(y).onMousedown(...g)),onMouseup:v[2]||(v[2]=(...g)=>e(y).onMouseup&&e(y).onMouseup(...g))},[R(e($e),{loop:"",trapped:e(t),"focus-start-el":"container",onFocusAfterTrapped:e(A),onFocusAfterReleased:e(w),onReleaseRequested:e(B)},{default:C(()=>[e(s)?(I(),V(Pe,{key:0,ref_key:"dialogContentRef",ref:a,"custom-class":l.customClass,center:l.center,"close-icon":l.closeIcon,draggable:e(F),fullscreen:l.fullscreen,"show-close":l.showClose,title:l.title,onClose:e($)},Ae({header:C(()=>[l.$slots.title?h(l.$slots,"title",{key:1}):h(l.$slots,"header",{key:0,close:e($),titleId:e(m),titleClass:e(u).e("title")})]),default:C(()=>[h(l.$slots,"default")]),_:2},[l.$slots.footer?{name:"footer",fn:C(()=>[h(l.$slots,"footer")])}:void 0]),1032,["custom-class","center","close-icon","draggable","fullscreen","show-close","title","onClose"])):j("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onReleaseRequested"])],42,Ue)]),_:3},8,["mask","overlay-class","z-index"]),[[Be,e(t)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}});var Ge=H(_e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]]);const He=Oe(Ge);export{He as E};
