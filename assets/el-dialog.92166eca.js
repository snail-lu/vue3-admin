import{b as G,ap as X,a as J,aO as x,j,bB as ee,k as R,bC as oe,o as I,c as z,g as M,r as h,n as b,e,t as le,z as O,s as C,q as V,v as se,au as ae,f as q,h as te,av as ne,_ as Z,bD as ie,bE as re,d as ue,bl as H,a1 as de,aC as ce,ah as U,C as k,bF as fe,bG as me,aj as pe,bH as ye,a3 as K,af as ve,aa as be,aU as ge,ax as _,aq as Ce,ag as he,bI as ke,u as Ee,x as Ie,bJ as De,an as Be,ao as we,bK as Te,bL as $e,bt as Ae,al as Fe,bM as Se,w as Me}from"./index.1cefbf14.js";const Y=Symbol("dialogInjectionKey"),Q=G({center:{type:Boolean,default:!1},closeIcon:{type:X,default:""},customClass:{type:String,default:""},draggable:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},showClose:{type:Boolean,default:!0},title:{type:String,default:""}}),Oe={close:()=>!0},Re=["aria-label"],Le=["id"],Ne={name:"ElDialogContent"},Pe=J({...Ne,props:Q,emits:Oe,setup(o){const r=o,{t:E}=x(),{Close:i}=ie,{dialogRef:u,headerRef:f,bodyId:D,ns:a,style:t}=j(Y),{focusTrapRef:m}=j(ee),d=re(m,u),p=R(()=>r.draggable);return oe(u,f,p),(s,n)=>(I(),z("div",{ref:e(d),class:b([e(a).b(),e(a).is("fullscreen",s.fullscreen),e(a).is("draggable",e(p)),{[e(a).m("center")]:s.center},s.customClass]),style:te(e(t)),tabindex:"-1",onClick:n[1]||(n[1]=ne(()=>{},["stop"]))},[M("header",{ref_key:"headerRef",ref:f,class:b(e(a).e("header"))},[h(s.$slots,"header",{},()=>[M("span",{role:"heading",class:b(e(a).e("title"))},le(s.title),3)]),s.showClose?(I(),z("button",{key:0,"aria-label":e(E)("el.dialog.close"),class:b(e(a).e("headerbtn")),type:"button",onClick:n[0]||(n[0]=T=>s.$emit("close"))},[O(e(ae),{class:b(e(a).e("close"))},{default:C(()=>[(I(),V(se(s.closeIcon||e(i))))]),_:1},8,["class"])],10,Re)):q("v-if",!0)],2),M("div",{id:e(D),class:b(e(a).e("body"))},[h(s.$slots,"default")],10,Le),s.$slots.footer?(I(),z("footer",{key:0,class:b(e(a).e("footer"))},[h(s.$slots,"footer")],2)):q("v-if",!0)],6))}});var ze=Z(Pe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const Ve=G({...Q,appendToBody:{type:Boolean,default:!1},beforeClose:{type:ue(Function)},destroyOnClose:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:{type:Boolean,default:!1},modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1}}),qe={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[H]:o=>de(o),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},je=(o,r)=>{const i=ge().emit,{nextZIndex:u}=ce();let f="";const D=U(),a=U(),t=k(!1),m=k(!1),d=k(!1),p=k(o.zIndex||u());let s,n;const T=fe("namespace",me),L=R(()=>{const c={},S=`--${T.value}-dialog`;return o.fullscreen||(o.top&&(c[`${S}-margin-top`]=o.top),o.width&&(c[`${S}-width`]=pe(o.width))),c});function N(){i("opened")}function $(){i("closed"),i(H,!1),o.destroyOnClose&&(d.value=!1)}function P(){i("close")}function A(){n==null||n(),s==null||s(),o.openDelay&&o.openDelay>0?{stop:s}=_(()=>F(),o.openDelay):F()}function B(){s==null||s(),n==null||n(),o.closeDelay&&o.closeDelay>0?{stop:n}=_(()=>l(),o.closeDelay):l()}function w(){function c(S){S||(m.value=!0,t.value=!1)}o.beforeClose?o.beforeClose(c):B()}function y(){o.closeOnClickModal&&w()}function F(){!Ce||(t.value=!0)}function l(){t.value=!1}function v(){i("openAutoFocus")}function g(){i("closeAutoFocus")}o.lockScroll&&ye(t);function W(){o.closeOnPressEscape&&w()}return K(()=>o.modelValue,c=>{c?(m.value=!1,A(),d.value=!0,i("open"),p.value=o.zIndex?p.value++:u(),ve(()=>{r.value&&(r.value.scrollTop=0)})):t.value&&B()}),K(()=>o.fullscreen,c=>{!r.value||(c?(f=r.value.style.transform,r.value.style.transform=""):r.value.style.transform=f)}),be(()=>{o.modelValue&&(t.value=!0,d.value=!0,A())}),{afterEnter:N,afterLeave:$,beforeLeave:P,handleClose:w,onModalClick:y,close:B,doClose:l,onOpenAutoFocus:v,onCloseAutoFocus:g,onCloseRequested:W,titleId:D,bodyId:a,closed:m,style:L,rendered:d,visible:t,zIndex:p}},Ue=["aria-label","aria-labelledby","aria-describedby"],Ke={name:"ElDialog"},_e=J({...Ke,props:Ve,emits:qe,setup(o,{expose:r}){const E=o,i=he();ke({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},R(()=>!!i.title));const u=Ee("dialog"),f=k(),D=k(),a=k(),{visible:t,titleId:m,bodyId:d,style:p,rendered:s,zIndex:n,afterEnter:T,afterLeave:L,beforeLeave:N,handleClose:$,onModalClick:P,onOpenAutoFocus:A,onCloseAutoFocus:B,onCloseRequested:w}=je(E,f);Ie(Y,{dialogRef:f,headerRef:D,bodyId:d,ns:u,rendered:s,style:p});const y=De(P),F=R(()=>E.draggable&&!E.fullscreen);return r({visible:t,dialogContentRef:a}),(l,v)=>(I(),V(Se,{to:"body",disabled:!l.appendToBody},[O(Fe,{name:"dialog-fade",onAfterEnter:e(T),onAfterLeave:e(L),onBeforeLeave:e(N),persisted:""},{default:C(()=>[Be(O(e(Te),{"custom-mask-event":"",mask:l.modal,"overlay-class":l.modalClass,"z-index":e(n)},{default:C(()=>[M("div",{role:"dialog","aria-modal":"true","aria-label":l.title||void 0,"aria-labelledby":l.title?void 0:e(m),"aria-describedby":e(d),class:b(`${e(u).namespace.value}-overlay-dialog`),onClick:v[0]||(v[0]=(...g)=>e(y).onClick&&e(y).onClick(...g)),onMousedown:v[1]||(v[1]=(...g)=>e(y).onMousedown&&e(y).onMousedown(...g)),onMouseup:v[2]||(v[2]=(...g)=>e(y).onMouseup&&e(y).onMouseup(...g))},[O(e($e),{loop:"",trapped:e(t),"focus-start-el":"container",onFocusAfterTrapped:e(A),onFocusAfterReleased:e(B),onReleaseRequested:e(w)},{default:C(()=>[e(s)?(I(),V(ze,{key:0,ref_key:"dialogContentRef",ref:a,"custom-class":l.customClass,center:l.center,"close-icon":l.closeIcon,draggable:e(F),fullscreen:l.fullscreen,"show-close":l.showClose,title:l.title,onClose:e($)},Ae({header:C(()=>[l.$slots.title?h(l.$slots,"title",{key:1}):h(l.$slots,"header",{key:0,close:e($),titleId:e(m),titleClass:e(u).e("title")})]),default:C(()=>[h(l.$slots,"default")]),_:2},[l.$slots.footer?{name:"footer",fn:C(()=>[h(l.$slots,"footer")])}:void 0]),1032,["custom-class","center","close-icon","draggable","fullscreen","show-close","title","onClose"])):q("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onReleaseRequested"])],42,Ue)]),_:3},8,["mask","overlay-class","z-index"]),[[we,e(t)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}});var Ge=Z(_e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]]);const Ze=Me(Ge);export{Ze as E};
